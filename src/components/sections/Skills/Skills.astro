---
import { t } from "i18next";
import Marquee from "./Marquee.astro";
export interface Skill {
  img: string;
  name: string;
}
const stack: Skill[] = [
  { img: "icons/TypeScript.svg", name: "TypeScript" },
  { img: "icons/React-Light.svg", name: "React" },
  { img: "icons/NextJS-Light.svg", name: "Next JS" },
  { img: "icons/NodeJS-Light.svg", name: "Node JS" },
  { img: "icons/MongoDB.svg", name: "Mongo DB" },
];

const skills: Skill[] = [
  { img: "icons/MongoDB.svg", name: "Mongo DB" },
  { img: "icons/TypeScript.svg", name: "TypeScript" },
  { img: "icons/NodeJS-Light.svg", name: "Node JS" },
  { img: "icons/NextJS-Light.svg", name: "Next JS" },
  { img: "icons/Docker.svg", name: "Docker" },
  { img: "icons/PHP-Light.svg", name: "PHP" },
  { img: "icons/React-Light.svg", name: "React" },
  { img: "icons/Git.svg", name: "Git" },
  { img: "icons/Angular-Light.svg", name: "Angular" },
  { img: "icons/MySQL-Light.svg", name: "MySQL" },
  { img: "icons/Redux.svg", name: "Redux" },
  { img: "icons/TailwindCSS-Light.svg", name: "Tailwind" },
  { img: "icons/Linux-Light.svg", name: "Linux" },
  { img: "chakra-ui.webp", name: "Chakra UI" },
  { img: "icons/HTML.svg", name: "HTML" },
  { img: "icons/CSS.svg", name: "Css" },
  { img: "icons/JavaScript.svg", name: "JavaScript" },
  { img: "icons/JQuery.svg", name: "JQuery" },
  { img: "icons/Astro.svg", name: "Astro" },
  { img: "icons/ExpressJS-Light.svg", name: "ExpressJS" },
];
const skills1 = [...skills].splice(0, skills.length / 2);
const skills2 = [...skills].splice(skills.length / 2);
---

<section
  class="pb-6 lg:pb-12 text-gray-800 text-center max-w-full revealing-scroll-item"
>
  <div class="mb-4">
    <h2 class="text-3xl font-bold mb-2 lg:mb-8">{t("skills.fav")}</h2>
    <div class="grid grid-cols-3 gap-4 max-w-md m-auto">
      {
        stack.map((item) => {
          return (
            <div class="rounded-lg shadow-lg font-semibold flex flex-col items-center p-4 m-2">
              <img class="h-9 object-contains" src={`/img/techs/${item.img}`} />
              <h2 class="flex font-bold items-center text-sm px-3 py-2 text-gray-500">
                {item.name}
              </h2>
            </div>
          );
        })
      }
    </div>
  </div>
  <h2 class="text-3xl font-bold mb-2 lg:mb-8">{t("skills.title")}</h2>
  <div class="marquee-container">
    <Marquee skills={skills1} />
    <Marquee skills={skills2} reversed={true} />
  </div>
</section>

<style>
  @keyframes reveal {
    from {
      opacity: 0;
      transform: translateY(100px);
    }
    to {
      opacity: 1;
      transform: translateY(0px);
    }
  }
  .revealing-scroll-item {
    /* Create View Timeline */
    view-timeline-name: --revealing-image;
    view-timeline-axis: block;

    /* Attach animation, linked to the  View Timeline */
    animation: linear reveal both;
    animation-timeline: --revealing-image;

    /* Tweak range when effect should run*/
    animation-range: entry 25% cover 40%;
  }
</style>
